RIP（Routing Information Protocol） 是一种距离矢量路由协议。

RIP 过程：

1. 直连路由写入路由表，距离为0

   | 目的地       | 出接口 | 距离 |
   | ------------ | ------ | ---- |
   | 192.168.12.0 | s0/0   | 0    |

2. 相邻路由器信息交换，交换后距离+1

3. 下一更新周期到来，继续交换信息

4. 收敛完成



但是 RIP 会产生环路，因此有以下几种方法来消除环路

1. 定义最大跳数。RIP 中最大跳数为 15，超过15为不可达
2. 水平分割。从某个端口接收到的更新，不会再从该端口发出
3. 毒性路由。感知到某个子网发生路障的路由器，迅速泛洪该网段的路由（设置跳数为 16）
4. 毒性逆转。接收到毒性路由后，仅标记为PD（possible down）状态，并向路由来的方向发出，以快速恢复路由
5. 抑制计时器
6. 触发更新。不必等待下一个更新周期，检测到拓扑变化的路由器立即发送更新



RIPv2 特点：

- 使用组播更新
- 无类路由协议，支持 VLSM
- 有认证功能
- 支持手工汇总
- 支持路由标记
- 更新消息中的路由条目含有下一跳信息



RIP 配置

```shell
conf t
	router rip
	# 宣告某网段；只支持主类网络宣告
	network 网段
	# 指定 RIP 版本
	version 2
	end

show ip route
```



RIP 自动汇总，手工汇总